{% extends 'store/base.html' %}
{% block title %} Change Password {% endblock title %}

{% block content %}
<div class="container">
    <div class="row centered py-4 align-items-center justify-content-center  ">
        {% if validlink  %}
        <form class="col-md-8" method="post" novalidate>
            {% csrf_token %}

            <div class="form-group my-1">
                <h4 class="text-muted text-dark">Reset your password</h4>
            </div>
            <hr>

            <div class="form-group my-1">
                {% include "message/message.html" %}
            </div>

                <div class="form-group my-1">
                    <label for="new_password1">New Password </label>
                    <input class="form-control" type="password" name="new_password1"> 
                    {{ form.new_password1.errors }}
                </div>

                <div class="form-group my-1">
                    <label for="new_password2">Confirm Password</label>
                    <input class="form-control" type="password" name="new_password2"> 
                    {{ form.new_password2.errors }}

                </div>


                <!--âœ… Display Non-Field Errors Here -->
                    <div class="form-group my-1 text-danger">
                      {{ form.non_field_errors }}
                    </div> 

                <div class="form-group d-grid gap-2 my-3 ">
                    <button type="submit" class="btn btn-dark">Reset Password</button>
                </div>
        </form>
        {% else %}
        <div class="col-md-8">
            <h4>Invalid Password Reset Link</h4>
            <hr>
            <p class="my-1 text-dark">The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
        </div>
        {% endif %}
    </div>
</div>

{% endblock content %}